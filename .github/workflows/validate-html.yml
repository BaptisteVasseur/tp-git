name: 🔍 Validation HTML/CSS

on:
  pull_request:
    branches: [ main ]
  push:
    branches: [ main ]

jobs:
  validate:
    runs-on: ubuntu-latest
    name: Valider le code HTML/CSS
    
    steps:
    - name: 📥 Checkout du code
      uses: actions/checkout@v3
      
    - name: 🔍 Validation HTML
      uses: Cyb3r-Jak3/html5validator-action@v7.2.0
      with:
        root: ./
        format: text
        
    - name: 🎨 Installation de stylelint
      run: |
        npm install -g stylelint stylelint-config-standard
        
    - name: 🔍 Validation CSS
      run: |
        echo "module.exports = { extends: ['stylelint-config-standard'] };" > .stylelintrc.js
        stylelint "**/*.css" || true
        
    - name: ✅ Succès
      run: echo "🎉 Validation terminée avec succès !"
